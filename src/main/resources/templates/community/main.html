<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{commons/layout}">

<head>
    <link rel="stylesheet" th:href="@{/css/fragments/banner.css}">
    <script type="module" th:src="@{/js/fragments/banner.js}"></script>

    <link rel="stylesheet" th:href="@{/css/community/main.css}">
    <script defer th:src="@{/js/community/main.js}"></script>

    <link rel="stylesheet" th:href="@{/css/commons/page_block.css}">
</head>

<body>
<main layout:fragment="content">
    <div th:replace="~{fragments/banner :: banner}"></div>

    <section class="before-list-container">
        <div class="outer">
            <div class="inner">

                <div class="list-category">
                    <p>커뮤니티</p>
                    <a href="">
                        <div class="write--button">
                            <span class="material-symbols-outlined">edit_square</span>
                            <span>글쓰기</span>
                        </div>
                    </a>
                </div>

                <hr>

                <div class="post_list">
                    <th:block th:each="post : ${postVOList}" id="post_list--content">
                        <div class="post">
                            <div class="post--title">
<!--                                <span class="material-symbols-outlined picture_icon">image</span>-->
                                <a th:href="@{/community/{postNo}(postNo=${post.postNo})}"><span class="post--title-name" th:text="${post.title}"></span></a>
                            </div>

                            <div class="post--like">
                                <span class="material-symbols-outlined">thumb_up</span>
                                <span class="like-count" th:text="${post.likeCnt}"></span>

                                <span class="material-symbols-outlined">mode_comment</span>
                                <span class="comme-count" th:text="${post.cmtCnt}"></span>
                            </div>
                        </div>
                    </th:block>
                </div>

<!-- 페이지네이션 버튼 -->
                <div class="page_block">
                    <th:block th:if="${pageBlockDTO.hasPrevBlock()}">
                        <a th:href="@{/community/(page=${pageBlockDTO.startPage - 1})}">
                            <span class="material-symbols-outlined">chevron_left</span>
                        </a>
                    </th:block>

                    <th:block th:each="i : ${#numbers.sequence(pageBlockDTO.startPage, pageBlockDTO.endPage)}">
                        <a th:href="@{/community/(page=${i})}">
                            <div class="page" th:text="${i}" th:classappend="${i == pageBlockDTO.currentPage ? 'active' : ''}"></div>
                        </a>
                    </th:block>

                    <th:block th:if="${pageBlockDTO.hasNextBlock()}">
                        <a th:href="@{/community/(page=${pageBlockDTO.endPage + 1})}">
                            <span class="material-symbols-outlined">chevron_right</span>
                        </a>
                    </th:block>
                </div>

            </div>
        </div>
    </section>

</main>
</body>
</html>